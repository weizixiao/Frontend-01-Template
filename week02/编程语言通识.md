# 编程语言通识

## 语言按语法分类
形式语言： 数学、逻辑和计算机科学中，形式语言（英语：Formal language）是用精确的数学或机器可处理的公式定义的语言
非形式语言：也称为自然语言

### 终结符和非终结符号
- 终结符  通俗的说就是不能单独出现在推导式左边的符号
- 非终结符  不是终结符的都是非终结符。非终结符可理解为一个可拆分元素，而终结符是不可拆分的最小元素。
```
终结符是一个形式语言的基本符号。就是说，它们能在一个形式语法的推导规则的输入或输出字符串存在，而且它们不能被分解成更小的单位。确切地说，一个语法的规则不能改变终结符。例如说，下面的语法有两个规则：
x -> xa
x -> ax
在这种语法之中，a是一个终结符，因为没有规则可以把a变成别的符号。不过，有两个规则可以把x变成别的符号，所以x是非终结符。一个形式语法所推导的形式语言必须完全由终结符构成。
```
判断注意：
（1）只要存在有 S→L ，则 S 必然是个非终结符
（2）逗号，[，]，（，） 这5个都是终结符
（3）一般书上把非终结符用大写字母 表示，而终结符用小写字母表示


- 非形式语言
    - 中文
    - 英文 
- 形式语言（乔姆斯基谱系）
    - 0型 无限制文法。该类型的文法能够产生所有可被图灵机识别的语言。可被图灵机识别的语言是指能够使图灵机停机的字串，这类语言又被称为递归可枚举语言。注意递归可枚举语言与递归语言的区别，后者是前者的一个真子集，是能够被一个总停机的图灵机判定的语言。

    - 1型 上下文相关文法。这种文法的产生式规则取如 αAβ -> αγβ 一样的形式。这里的A 是非终结符号，而 α, β 和 γ 是包含非终结符号与终结符号的字串；α, β 可以是空串，但 γ 必须不能是空串；这种文法也可以包含规则 S->ε ，但此时文法的任何产生式规则都不能在右侧包含 S 。这种文法规定的语言可以被线性有界非确定图灵机接受。
        - 和上下文有关，这边是一个意思，另一边是一个意思

    - 2型 上下文无关文法。这种文法的产生式规则取如 A -> γ 一样的形式。这里的A 是非终结符号，γ 是包含非终结符号与终结符号的字串。这种文法规定的语言可以被非确定下推自动机接受。上下文无关语言为大多数程序设计语言的语法提供了理论基础。
        - 和上下文无关，在哪都是一个意思（大部分语言都是上下文无关文法）

    - 3型 正则文法。这种文法要求产生式的左侧只能包含一个非终结符号，产生式的右侧只能是空串、一个终结符号或者一个非终结符号后随一个终结符号；如果所有产生式的右侧都不含初始符号 S ，规则 S -> ε 也允许出现。这种文法规定的语言可以被有限状态自动机接受，也可以通过正则表达式来获得。正规语言通常用来定义检索模式或者程序设计语言中的词法结构。
        - 能用正则表达式解析的文法，会限制表达能力


现代语言会采取比较折中的方法，把所以文法分成词法和语法两个部分；
- 词法用正则做一边粗劣的处理，把语言变成单个的词，再把词作为输入流，去做语法分析


## 理解形式语言
### 产生式（BNF）
- 用尖括号括起来的名称来表示语法结构名
- 语法结构分成基础结构和需要用其他语法结构定义的复合结构
    - 基础结构称终止符
    - 复合结构称非终止符
- 引号和中间的字符表示终结符（javascript的字符串）
- 可以有括号
- *表示重复多次
- |表示或
- +表示至少一次

```
<!-- 用BNF定义一个加法 -->
<!-- 定义一个数字 -->
<Number> ::= "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9";
<!-- 定义一个十进制数 -->
<DecimalNumber> ::= "0" | (("1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9") <Number>*)
<!-- 定义加法表达式,表达式内用Expression，表示可递归 -->
<Expression> ::= <DecimalNumber> | <Expression> "+" <DecimalNumber>;
```
```
<!-- 用BNF定义四则运算 -->
<!-- 定义一个数字 -->
<Number> ::= "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9";

<!-- 定义一个十进制数 -->
<DecimalNumber> ::= "0" | (("1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9") <Number>*)

<!-- 括号运算 -->
<PrimaryExpression> ::= <DecimalNumber> | 
    "(" <LogicalExpression> ")"

<!-- 定义一个乘法和除法 -->
<MultiplicativeExpression> ::= <PrimaryExpression> | 
    <PrimaryExpression> "*" <MultiplicativeExpression> |
    <PrimaryExpression> "/" <MultiplicativeExpression>

<!-- 定义加法表达式,表达式内用Expression，表示可递归 -->
<AdditiveExpression> ::= <MultiplicativeExpression> |
    <AdditiveExpression> "+" <MultiplicativeExpression> |
    <AdditiveExpression> "-" <MultiplicativeExpression>;

<!-- 综合表达式 -->
<LogicalExpression> ::= <AdditiveExpression> | 
    <LogicalExpression> "||" <AdditiveExpression> |
    <LogicalExpression> "&&" <AdditiveExpression>
```
<strong>对于四则运算的理解，"+","-","*","/","||","&&",定义的数字值等这几个在上面表达式中为终结符，而LogicalExpression等类似这种表达式定义的为非终结符，四则运算，根据优先级先后，先定义，如括号优先级最低，最先定义，后带入到乘法种，然后将乘法带入到加减中</strong>

### 通过BNF表达式，理解乔姆斯基谱系
- 0型 无限制文法()
    - ?::=?
        - 可以产生多个结果值: <a> <b> :== "c" <d>
- 1型 上下文相关文法
    - ?<A>?::=?<B>?
        - 等号左右两边可以多个，但是可变的只有中间值，如：<a><b><c> :== <a>"x"<c>,这个就是 <b> 在<a>,<c>的上下文中，被解释称x，类似于js中模版字符串`xxxx`
- 2型 上下文无关文法
    - <A>::=?
        - 这个就是平时的，等号左边只有一个值，如上面四则中的表达式，都是上下文无关
- 3型 正则文法
    -   <A>::=<A>?
        - 只运行左递归（自身一定出现在左边，是=号后的左边，不能是这样<A>::=?<A>），就像上面四则中的用法

<strong>javascript中，大部分都是2型文法，表达式为3型文法，少部分为1型</strong>

其他产生式，如EBNF，ABNF，还有Customized产生式
### javascript产生式
```
<!-- 其中:就是::=，其中词法定义用的是::，而语法定义是:, 而他的终结符是加粗的形式表示的 -->
AdditiveExpression:
    MultiplicativeExpression
    AdditiveExpression + MultiplicativeExpression
    AdditiveExpression - MultiplicativeExpression
```

### 图灵完备性
- 命令式————图灵机
    - goto
    - if和while
- 声明式————lambda
    - 递归

### 动态语言和静态语言
- 动态语言
    - 在用户的设备/在线服务器上
    - 产品实际运行时
    - Runtime
- 静态语言
    - 在程序员的设备上
    - 产品开发时
    - Compiletime

### 类型系统
- 动态类型系统和静态类型系统
- 强类型和弱类型（弱类型会隐式转化）
    - String + Number
    - String == Boolean
- 复合类型
    - 结构体（对象）
    - 函数签名（函数参数和返回值带类型）
- 子类型
    - 逆变/协商（继承类的）


### 一般命令式编程语言
- Atom
    - Identifier
    - Literal
- Expression
    - Atom
    - Operator
    - Punctuator
- Statement
    - Expression
    - Keyword
    - Punctuator
- Structure
    - Function
    - Class
    - Process
    - Namespace
    ...
- Program
    - Program
    - Module
    - Package
    - Library